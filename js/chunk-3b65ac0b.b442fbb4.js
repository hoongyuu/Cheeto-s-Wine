(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b65ac0b"],{"1ab6":function(t,e,a){"use strict";a("c975"),a("d81d"),a("a434");var i=a("1157"),r=a.n(i);e["a"]={data:function(){return{stareData:[]}},methods:{addStared:function(t){if(t.stared=!t.stared,t.stared)this.stareData.push({title:t.title});else{var e=r.a.map(this.stareData,(function(t){return t.title})).indexOf(t.title);this.stareData.splice(e,1)}localStorage.setItem("favoriteWine",JSON.stringify(this.stareData))}}}},"3ef9":function(t,e,a){"use strict";a("a9e3");e["a"]={methods:{checkNum:function(t){t.quantity=Number(t.quantity),(isNaN(t.quantity)||t.quantity<1)&&(t.quantity=1)}}}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var i=a("1d80"),r=a("5899"),s="["+r+"]",n=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),c=function(t){return function(e){var a=String(i(e));return 1&t&&(a=a.replace(n,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,a){var i=a("861d"),r=a("d2bb");t.exports=function(t,e,a){var s,n;return r&&"function"==typeof(s=e.constructor)&&s!==a&&i(n=s.prototype)&&n!==a.prototype&&r(t,n),t}},8994:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"products"},[a("loading",{attrs:{loader:"dots",active:t.isLoading,"background-color":"rgb(173, 92, 0)"},on:{"update:active":function(e){t.isLoading=e}}}),t._m(0),t.wineStyle?a("h2",{staticClass:"products-title"},[t._v(" "+t._s(t.wineStyle)+" ")]):a("h2",{staticClass:"products-title"},[t._v(" 所有酒類 ")]),a("div",{staticClass:"products-header"},[a("div",{staticClass:"container"},[a("button",{staticClass:"products-header-hamburger",on:{click:function(e){t.mobile.category=!t.mobile.category}}},[t._v(" 分類 "),a("i",{staticClass:"fas fa-caret-down"})]),a("ul",{staticClass:"products-header-category",class:{active:t.mobile.category,style:t.mobile.style}},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="所有酒款",t.mobile.category=!1}}},[t._v("所有酒款")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="熱門酒款",t.mobile.category=!1}}},[t._v("熱門酒款")])]),a("li",[a("span",{on:{click:function(e){t.mobile.style=!t.mobile.style}}},[t._v(" 酒款分類 "),a("i",{staticClass:"fas fa-caret-down"})]),a("ul",[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="香檳氣泡酒",t.mobile.category=!1}}},[t._v(" 氣泡酒 ")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="葡萄酒",t.mobile.category=!1}}},[t._v(" 葡萄酒 ")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="威士忌",t.mobile.category=!1}}},[t._v(" 威士忌 ")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="其他酒類",t.mobile.category=!1}}},[t._v(" 其他酒類 ")])])])]),a("li",{staticClass:"products-header-category-sort"},[a("span",[t._v(" 依價格排序 ")]),a("ul",[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.sortData="highToLow",t.mobile.style=!1}}},[t._v(" 價格：高到低 ")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.sortData="lowToHigh",t.mobile.style=!1}}},[t._v(" 價格：低到高 ")])])])])])])]),a("div",{staticClass:"products-main"},[a("div",{staticClass:"container"},t._l(t.filterProduct,(function(e){return a("div",{key:e.id,staticClass:"products-main-item",on:{click:function(a){return t.goDetail(e)}}},[a("div",{staticClass:"products-main-favorite",on:{click:function(a){return a.stopPropagation(),t.addStared(e)}}},[1==e.stared?a("i",{staticClass:"fas fa-bookmark"}):a("i",{staticClass:"far fa-bookmark"})]),a("img",{attrs:{src:e.imageUrl}}),a("div",{staticClass:"products-main-txt"},[a("h2",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goDetail(e)}}},[t._v(t._s(e.title))])]),a("div",{staticClass:"products-main-price"},[a("span",{staticClass:"price"},[t._v(" $"+t._s(t._f("currency")(e.origin_price))+" ")]),a("span",{staticClass:"sale-price"},[t._v("SALE $"+t._s(t._f("currency")(e.price)))])]),a("div",{staticClass:"products-main-info"},[a("span",[t._v(t._s(e.options.capacity))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],attrs:{type:"text"},domProps:{value:e.quantity},on:{keyup:function(a){return t.checkNum(e)},click:function(t){t.stopPropagation()},input:function(a){a.target.composing||t.$set(e,"quantity",a.target.value)}}})]),a("div",{staticClass:"products-main-btn"},[a("a",{staticClass:"btn-init",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.addCart(e)}}},[t.spannerStatus===e.id?a("spanner"):t._e(),t._v(" 加入購物車 ")],1)])])])})),0)])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products-hero"},[a("img",{staticClass:"products-hero-img",attrs:{src:"https://firebasestorage.googleapis.com/v0/b/cheetoblog-8edf4.appspot.com/o/%E9%9B%BB%E5%95%86%E7%B6%B2%E7%AB%99%2Fproducts-hero.png?alt=media&token=ad237ae1-a02c-40fd-8732-e41ed6d1ffbc"}}),a("img",{staticClass:"products-hero-img--mobile",attrs:{src:"https://firebasestorage.googleapis.com/v0/b/cheetoblog-8edf4.appspot.com/o/%E9%9B%BB%E5%95%86%E7%B6%B2%E7%AB%99%2Fproducts-hero-mobile.png?alt=media&token=c1af88eb-e381-4001-b1db-be254ffd20b2"}}),a("div",{staticClass:"products-hero-txt"},[a("h2",[t._v("Cheeto's Wine")]),a("h3",[t._v(" 過人品味 "),a("span",[t._v("匠心獨到")])])])])}],s=(a("4160"),a("159b"),a("5530")),n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"double-bounce1"}),a("div",{staticClass:"double-bounce2"})])}],c={},u=c,l=(a("f2ee"),a("2877")),f=Object(l["a"])(u,n,o,!1,null,null,null),p=f.exports,d=a("c36d"),h=a("3ef9"),b=a("1ab6"),v=a("2f62"),g={data:function(){return{wineStyle:"",sortData:"",mobile:{category:!1,style:!1},pages:{},spannerStatus:""}},mixins:[d["a"],h["a"],b["a"]],components:{spanner:p},created:function(){this.$route.query.wineStyle&&(this.wineStyle=this.$route.query.wineStyle),this.getProductsData()},methods:Object(s["a"])(Object(s["a"])({},Object(v["b"])("productsModules",["getProductsData"])),{},{goDetail:function(t){this.$router.push({path:"/product",query:{wineId:t.id}})}}),computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(v["c"])("productsModules",["productsData"])),Object(v["c"])(["isLoading"])),{},{filterProduct:function(){var t=this,e=[];switch(this.wineStyle){case"其他酒類":this.productsData.forEach((function(t){"清酒"!==t.category&&"梅酒"!==t.category&&"礦泉水"!==t.category||e.push(t)}));break;case"香檳氣泡酒":case"威士忌":case"葡萄酒":this.productsData.forEach((function(a){a.category===t.wineStyle&&e.push(a)}));break;case"熱門酒款":this.productsData.forEach((function(t){!0===t.options.popular&&e.push(t)}));break;default:e=this.productsData;break}return e.sort((function(e,a){return"highToLow"===t.sortData?a.price-e.price:e.price-a.price})),e}})},m=g,y=Object(l["a"])(m,i,r,!1,null,null,null);e["default"]=y.exports},"990f":function(t,e,a){},a434:function(t,e,a){"use strict";var i=a("23e7"),r=a("23cb"),s=a("a691"),n=a("50c4"),o=a("7b0b"),c=a("65f0"),u=a("8418"),l=a("1dde"),f=a("ae40"),p=l("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,b=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!d},{splice:function(t,e){var a,i,l,f,p,d,m=o(this),y=n(m.length),_=r(t,y),C=arguments.length;if(0===C?a=i=0:1===C?(a=0,i=y-_):(a=C-2,i=b(h(s(e),0),y-_)),y+a-i>v)throw TypeError(g);for(l=c(m,i),f=0;f<i;f++)p=_+f,p in m&&u(l,f,m[p]);if(l.length=i,a<i){for(f=_;f<y-i;f++)p=f+i,d=f+a,p in m?m[d]=m[p]:delete m[d];for(f=y;f>y-i+a;f--)delete m[f-1]}else if(a>i)for(f=y-i;f>_;f--)p=f+i-1,d=f+a-1,p in m?m[d]=m[p]:delete m[d];for(f=0;f<a;f++)m[f+_]=arguments[f+2];return m.length=y-i+a,l}})},a9e3:function(t,e,a){"use strict";var i=a("83ab"),r=a("da84"),s=a("94ca"),n=a("6eeb"),o=a("5135"),c=a("c6b6"),u=a("7156"),l=a("c04e"),f=a("d039"),p=a("7c73"),d=a("241c").f,h=a("06cf").f,b=a("9bf2").f,v=a("58a8").trim,g="Number",m=r[g],y=m.prototype,_=c(p(y))==g,C=function(t){var e,a,i,r,s,n,o,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(s=u.slice(2),n=s.length,o=0;o<n;o++)if(c=s.charCodeAt(o),c<48||c>r)return NaN;return parseInt(s,i)}return+u};if(s(g,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var w,S=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof S&&(_?f((function(){y.valueOf.call(a)})):c(a)!=g)?u(new m(C(e)),a,S):C(e)},k=i?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;k.length>E;E++)o(m,w=k[E])&&!o(S,w)&&b(S,w,h(m,w));S.prototype=y,y.constructor=S,n(r,g,S)}},c36d:function(t,e,a){"use strict";a("99af");e["a"]={methods:{addCart:function(t,e){var a=this;this.$store.state.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("6b69171f-d486-488a-beaf-ee85eb21fa24","/ec/shopping");this.spannerStatus=t.id;var r={product:t.id,quantity:t.quantity};this.axios.post(i,r).then((function(){"buy"===e?a.$router.push("/cart"):a.$swal.fire({position:"top-end",icon:"success",title:"成功加入購物車",showConfirmButton:!1,timer:1e3}),a.spannerStatus="",a.$store.dispatch("getCartData"),a.$store.state.isLoading=!1})).catch((function(){"buy"===e?(i="".concat("https://course-ec-api.hexschool.io/api/").concat("6b69171f-d486-488a-beaf-ee85eb21fa24","/ec/shopping"),a.axios.patch(i,r).then((function(){a.$router.push("/cart")})).catch((function(){a.$router.push("/cart")}))):(a.$swal.fire({position:"top-end",icon:"error",title:"重複加入購物車",showConfirmButton:!1,timer:1e3}),a.$store.state.isLoading=!1),a.spannerStatus=""}))}}}},c975:function(t,e,a){"use strict";var i=a("23e7"),r=a("4d64").indexOf,s=a("a640"),n=a("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,u=s("indexOf"),l=n("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(t){return c?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},d81d:function(t,e,a){"use strict";var i=a("23e7"),r=a("b727").map,s=a("1dde"),n=a("ae40"),o=s("map"),c=n("map");i({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},f2ee:function(t,e,a){"use strict";var i=a("990f"),r=a.n(i);r.a}}]);
//# sourceMappingURL=chunk-3b65ac0b.b442fbb4.js.map