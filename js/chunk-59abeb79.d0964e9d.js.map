{"version":3,"sources":["webpack:///./src/views/Frontend/Coupon-front.vue?7aed","webpack:///src/views/Frontend/Coupon-front.vue","webpack:///./src/views/Frontend/Coupon-front.vue?c5dd","webpack:///./src/views/Frontend/Coupon-front.vue","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","directives","name","rawName","value","expression","on","move","_v","_l","item","i","key","class","active","index","_s","staticRenderFns","data","list","count","times","cycle","speed","lampShow","timer","lamp","prize","methods","random","startRoll","setInterval","oneRoll","usePrize","clearTimeout","setTimeout","icon","title","text","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-59abeb79.d0964e9d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"coupon-front\"},[_vm._m(0),_c('div',{staticClass:\"coupon-front-game\"},[_c('div',{staticClass:\"bg-main\"}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.lampShow),expression:\"lampShow\"}],staticClass:\"bg-sec\"}),_c('div',{staticClass:\"start\",on:{\"click\":_vm.move}},[_c('p',[_vm._v(\"抽獎\")])]),_c('ul',_vm._l((_vm.list),function(item,i){return _c('li',{key:i,class:{ active: _vm.index == i }},[_c('p',[_vm._v(_vm._s(item.name))])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"coupon-front-header\"},[_c('h2',[_vm._v(\"Coupon Choice Game\")]),_c('p',[_vm._v(\"等著你來試試手氣！！！\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"coupon-front\">\r\n    <div class=\"coupon-front-header\">\r\n      <h2>Coupon Choice Game</h2>\r\n      <p>等著你來試試手氣！！！</p>\r\n    </div>\r\n    <div class=\"coupon-front-game\">\r\n      <div class=\"bg-main\"></div>\r\n      <div class=\"bg-sec\" v-show=\"lampShow\"></div>\r\n      <div class=\"start\" @click=\"move\">\r\n        <p>抽獎</p>\r\n      </div>\r\n      <ul>\r\n        <li v-for=\"(item, i) in list\" :key=\"i\" :class=\"{ active: index == i }\">\r\n          <p>{{ item.name }}</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: [\r\n        {\r\n          name: \"六折\",\r\n          text: \"不錯唷！：cheeto666\"\r\n        },\r\n        {\r\n          name: \"謝謝惠顧\",\r\n          text: \"下次記得拜拜QQ：cheetoQQ\"\r\n        },\r\n        {\r\n          name: \"七折\",\r\n          text: \"小小優待：cheeto777\"\r\n        },\r\n        {\r\n          name: \"幫你QQ\",\r\n          text: \"幫你QQ安慰獎9折：cheetoQQ\"\r\n        },\r\n        {\r\n          name: \"五折\",\r\n          text: \"運氣真好！：cheeto555\"\r\n        },\r\n        {\r\n          name: \"再次QQ\",\r\n          text: \"QQ到不行，沒有優惠\"\r\n        },\r\n        {\r\n          name: \"三折\",\r\n          text: \"運氣真好：cheeto333\"\r\n        },\r\n        {\r\n          name: \"一折\",\r\n          text: \"最大獎啦！：cheetoMAX\"\r\n        }\r\n      ],\r\n      index: 0, // 用來對應 css，對應的 item 發光\r\n      count: 8, // 格子總數\r\n      times: 0, // 格子跑動次數\r\n      cycle: 60, // 跑動生命週期：格子一定會跑超過 60 次\r\n      speed: 250, // 跑動速度\r\n      lampShow: false, // 閃爍功能\r\n      timer: 0, // 設定來能夠關閉 setTimeout 功能\r\n      lamp: 0, // 設定來關閉 setInterval 功能\r\n      prize: 0 // 設定中獎位置，讓效果與功能符合\r\n    };\r\n  },\r\n  methods: {\r\n    move() {\r\n      if (this.times !== 0) {\r\n        return;\r\n      }\r\n      const random = Math.floor(Math.random() * 8) + 1;\r\n      this.speed = 250; // 每次開始前初始化轉動速度\r\n      this.prize = random - 1; // 1-8 隨機抽獎\r\n      this.startRoll();\r\n      this.lamp = setInterval(() => {\r\n        this.lampShow = !this.lampShow;\r\n      }, 500);\r\n    },\r\n    startRoll() {\r\n      this.times += 1; //每次轉動都加 1\r\n      this.oneRoll();\r\n      this.usePrize();\r\n    },\r\n    oneRoll() {\r\n      let index = this.index;\r\n      // 每轉動一次 index +1\r\n      index += 1;\r\n      // 只要 index 到 8 就重置\r\n      if (index > this.count - 1) {\r\n        index = 0;\r\n      }\r\n      this.index = index;\r\n    },\r\n    usePrize() {\r\n      if (this.times > this.cycle && this.prize === this.index) {\r\n        clearTimeout(this.timer); // 關閉轉動\r\n        clearTimeout(this.lamp); // 關閉閃爍\r\n        this.lampShow = false;\r\n        this.times = 0; // 重置轉動次數\r\n        setTimeout(() => {\r\n          this.$swal.fire({\r\n            icon: \"success\",\r\n            title: `恭喜 ${this.list[this.prize].name} 優惠！！！`,\r\n            text: this.list[this.prize].text\r\n          });\r\n        }, 500);\r\n      } else {\r\n        if (this.times <= this.cycle - 15) {\r\n          this.speed -= 5; // 在轉動 45 次前持續加快轉動速度\r\n        } else {\r\n          this.speed += 10; // 45次後遞減轉動速度\r\n        }\r\n        // 利用 speed 調節速度\r\n        this.timer = setTimeout(() => {\r\n          this.startRoll();\r\n        }, this.speed);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\"></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coupon-front.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coupon-front.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Coupon-front.vue?vue&type=template&id=0fdf6040&\"\nimport script from \"./Coupon-front.vue?vue&type=script&lang=js&\"\nexport * from \"./Coupon-front.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}