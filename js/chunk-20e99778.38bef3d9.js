(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20e99778"],{1971:function(t,a,e){},"1ab6":function(t,a,e){"use strict";e("c975"),e("d81d"),e("a434");var i=e("1157"),s=e.n(i);a["a"]={data:function(){return{stareData:[]}},methods:{addStared:function(t){if(t.stared=!t.stared,t.stared)this.stareData.push({title:t.title});else{var a=s.a.map(this.stareData,(function(t){return t.title})).indexOf(t.title);this.stareData.splice(a,1)}localStorage.setItem("favoriteWine",JSON.stringify(this.stareData))}}}},"3ef9":function(t,a,e){"use strict";e("a9e3");a["a"]={methods:{checkNum:function(t){t.quantity=Number(t.quantity),(isNaN(t.quantity)||t.quantity<1)&&(t.quantity=1)}}}},5899:function(t,a){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,a,e){var i=e("1d80"),s=e("5899"),r="["+s+"]",n=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),o=function(t){return function(a){var e=String(i(a));return 1&t&&(e=e.replace(n,"")),2&t&&(e=e.replace(c,"")),e}};t.exports={start:o(1),end:o(2),trim:o(3)}},7156:function(t,a,e){var i=e("861d"),s=e("d2bb");t.exports=function(t,a,e){var r,n;return s&&"function"==typeof(r=a.constructor)&&r!==e&&i(n=r.prototype)&&n!==e.prototype&&s(t,n),t}},9964:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.productData.options?e("section",{staticClass:"product"},[e("loading",{attrs:{loader:"dots",active:t.isLoading,"background-color":"rgb(173, 92, 0)"},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"container"},[e("div",{staticClass:"product-main"},[e("div",{staticClass:"product-main-img"},[e("img",{attrs:{src:t.productData.imageUrl}})]),e("div",{staticClass:"product-main-txt"},[e("div",{staticClass:"product-main-favorite",on:{click:function(a){return a.stopPropagation(),t.addStared(t.productData)}}},[1==t.productData.stared?e("i",{staticClass:"fas fa-bookmark"}):e("i",{staticClass:"far fa-bookmark"})]),e("h4",{staticClass:"item-winery"},[t._v(t._s(t.productData.options.winery))]),e("h2",{staticClass:"item-title"},[t._v(t._s(t.productData.title))]),e("p",{staticClass:"item-info"},[t._v(" "+t._s(t.productData.options.year)+" | "+t._s(t.productData.category)+" | "+t._s(t.productData.options.capacity)+" ")]),e("div",{staticClass:"product-main-box"},[e("div",{staticClass:"product-main-price"},[e("span",{staticClass:"sale-price"},[t._v("$ "+t._s(t._f("currency")(t.productData.price)))]),e("span",{staticClass:"price"},[t._v("$ "+t._s(t._f("currency")(t.productData.origin_price)))])]),e("div",{staticClass:"product-main-quantity"},[e("button",{attrs:{type:"button",disabled:t.productData.quantity<=1},on:{click:function(a){t.productData.quantity-=1}}},[e("i",{staticClass:"fas fa-minus"})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productData.quantity,expression:"productData.quantity"}],attrs:{type:"text"},domProps:{value:t.productData.quantity},on:{keyup:function(a){return t.checkNum(t.productData)},input:function(a){a.target.composing||t.$set(t.productData,"quantity",a.target.value)}}}),e("button",{attrs:{type:"button"},on:{click:function(a){t.productData.quantity+=1}}},[e("i",{staticClass:"fas fa-plus"})])])]),e("div",{staticClass:"product-main-btn"},[e("button",{staticClass:"btn product-main-cart",attrs:{type:"button"},on:{click:function(a){return t.addCart(t.productData)}}},[t._v(" 加入購物車 ")]),e("button",{staticClass:"btn product-main-buy",attrs:{type:"button"},on:{click:function(a){return t.addCart(t.productData,"buy")}}},[t._v(" 立即購買 ")])])])]),e("div",{staticClass:"product-info"},[e("div",{staticClass:"product-info-item"},[e("h3",[t._v("酒款介紹")]),e("div",{staticClass:"product-info-txt"},[e("div",{staticClass:"product-info-txt-item"},[t._m(0),e("h4",[t._v(t._s(t.productData.options.place))])]),e("div",{staticClass:"product-info-txt-item"},[t._m(1),e("h4",[t._v(t._s(t.productData.options.winery))])]),e("div",{staticClass:"product-info-txt-item"},[t._m(2),e("h4",[t._v(t._s(t.productData.options.year))])]),e("div",{staticClass:"product-info-txt-item"},[t._m(3),e("h4",[t._v(t._s(t.productData.category))])])])]),e("div",{staticClass:"product-info-item"},[e("h3",[t._v("酒造資訊")]),e("p",{domProps:{innerHTML:t._s(t.productData.description)}})]),e("div",{staticClass:"product-info-item"},[e("h3",[t._v("酒評分享")]),e("p",{domProps:{innerHTML:t._s(t.productData.content)}})])]),e("div",{staticClass:"product-swiper"},[e("h3",{staticClass:"product-swiper-title"},[t._v("你可能還會喜歡")]),e("swiper",{attrs:{"product-data":t.swiperData},on:{update:t.resetProduct}})],1)])],1):t._e()},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[e("i",{staticClass:"fas fa-map-marker-alt"}),t._v(" 產地 ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[e("i",{staticClass:"fas fa-wine-bottle"}),t._v(" 酒廠")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[e("i",{staticClass:"fas fa-wine-glass-alt"}),t._v(" 年份")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[e("i",{staticClass:"fas fa-leaf"}),t._v(" 品種")])}],r=(e("4160"),e("159b"),e("5530")),n=e("1157"),c=e.n(n),o=e("c36d"),u=e("3ef9"),d=e("1ab6"),p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},t._l(t.productData,(function(a){return e("swiper-slide",{key:a.id},[e("div",{staticClass:"card-wrap",on:{click:function(e){return t.postId(a)}}},[e("div",{staticClass:"card-img"},[e("img",{attrs:{src:a.imageUrl}})]),e("div",{staticClass:"card-txt"},[e("h4",{staticClass:"item-winery"},[t._v(t._s(a.options.winery))]),e("h3",{staticClass:"item-title"},[t._v(t._s(a.title))]),e("div",{staticClass:"card-info"},[e("span",{staticClass:"item-info"},[t._v(" "+t._s(a.options.year)+" | "+t._s(a.options.capacity)+" | "+t._s(a.category)+" ")])]),e("div",{staticClass:"card-price"},[e("span",{staticClass:"sale-price"},[t._v("$ "+t._s(t._f("currency")(a.price)))]),e("span",{staticClass:"price"},[t._v("$ "+t._s(t._f("currency")(a.origin_price)))])])])])])})),1)},f=[],l={name:"carrousel",data:function(){return{swiperOptions:{freeMode:!0,slidesPerView:5,spaceBetween:5}}},props:["productData"],methods:{postId:function(t){this.$emit("update",t.id)}},computed:{swiper:function(){return this.$refs.mySwiper.$swiper}},mounted:function(){this.swiper.slideTo(3,1e3,!1)}},h=l,v=(e("d04e"),e("2877")),m=Object(v["a"])(h,p,f,!1,null,null,null),_=m.exports,y=e("2f62"),b={data:function(){return{id:""}},mixins:[o["a"],u["a"],d["a"]],components:{swiper:_},created:function(){var t=this.$route.query.wineId;this.getProduct(t),this.getProductsData()},methods:Object(r["a"])(Object(r["a"])({},Object(y["b"])("productsModules",["getProductsData"])),{},{getProduct:function(t){this.$store.dispatch("productsModules/getProductData",t)},resetProduct:function(t){var a=t;c()("html, body").animate({scrollTop:0},500),this.getProduct(a)}}),computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(y["c"])("productsModules",["productData","productsData"])),Object(y["c"])(["isLoading"])),{},{swiperData:function(){var t=[],a=this.$store.state.productsModules.productsData,e=this.$store.state.productsModules.productData;return a.forEach((function(a){if(e.category===a.category){if(e.title===a.title)return;t.push(a)}})),t}})},C=b,g=Object(v["a"])(C,i,s,!1,null,null,null);a["default"]=g.exports},a434:function(t,a,e){"use strict";var i=e("23e7"),s=e("23cb"),r=e("a691"),n=e("50c4"),c=e("7b0b"),o=e("65f0"),u=e("8418"),d=e("1dde"),p=e("ae40"),f=d("splice"),l=p("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min,m=9007199254740991,_="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!l},{splice:function(t,a){var e,i,d,p,f,l,y=c(this),b=n(y.length),C=s(t,b),g=arguments.length;if(0===g?e=i=0:1===g?(e=0,i=b-C):(e=g-2,i=v(h(r(a),0),b-C)),b+e-i>m)throw TypeError(_);for(d=o(y,i),p=0;p<i;p++)f=C+p,f in y&&u(d,p,y[f]);if(d.length=i,e<i){for(p=C;p<b-i;p++)f=p+i,l=p+e,f in y?y[l]=y[f]:delete y[l];for(p=b;p>b-i+e;p--)delete y[p-1]}else if(e>i)for(p=b-i;p>C;p--)f=p+i-1,l=p+e-1,f in y?y[l]=y[f]:delete y[l];for(p=0;p<e;p++)y[p+C]=arguments[p+2];return y.length=b-i+e,d}})},a9e3:function(t,a,e){"use strict";var i=e("83ab"),s=e("da84"),r=e("94ca"),n=e("6eeb"),c=e("5135"),o=e("c6b6"),u=e("7156"),d=e("c04e"),p=e("d039"),f=e("7c73"),l=e("241c").f,h=e("06cf").f,v=e("9bf2").f,m=e("58a8").trim,_="Number",y=s[_],b=y.prototype,C=o(f(b))==_,g=function(t){var a,e,i,s,r,n,c,o,u=d(t,!1);if("string"==typeof u&&u.length>2)if(u=m(u),a=u.charCodeAt(0),43===a||45===a){if(e=u.charCodeAt(2),88===e||120===e)return NaN}else if(48===a){switch(u.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+u}for(r=u.slice(2),n=r.length,c=0;c<n;c++)if(o=r.charCodeAt(c),o<48||o>s)return NaN;return parseInt(r,i)}return+u};if(r(_,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var D,w=function(t){var a=arguments.length<1?0:t,e=this;return e instanceof w&&(C?p((function(){b.valueOf.call(e)})):o(e)!=_)?u(new y(g(a)),e,w):g(a)},x=i?l(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$=0;x.length>$;$++)c(y,D=x[$])&&!c(w,D)&&v(w,D,h(y,D));w.prototype=b,b.constructor=w,n(s,_,w)}},c36d:function(t,a,e){"use strict";e("99af");a["a"]={methods:{addCart:function(t,a){var e=this;this.$store.state.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("6b69171f-d486-488a-beaf-ee85eb21fa24","/ec/shopping");this.spannerStatus=t.id;var s={product:t.id,quantity:t.quantity};this.axios.post(i,s).then((function(){"buy"===a?e.$router.push("/cart"):e.$swal.fire({position:"top-end",icon:"success",title:"成功加入購物車",showConfirmButton:!1,timer:1e3}),e.spannerStatus="",e.$store.dispatch("getCartData"),e.$store.state.isLoading=!1})).catch((function(){"buy"===a?(i="".concat("https://course-ec-api.hexschool.io/api/").concat("6b69171f-d486-488a-beaf-ee85eb21fa24","/ec/shopping"),e.axios.patch(i,s).then((function(){e.$router.push("/cart")})).catch((function(){e.$router.push("/cart")}))):(e.$swal.fire({position:"top-end",icon:"error",title:"重複加入購物車",showConfirmButton:!1,timer:1e3}),e.$store.state.isLoading=!1),e.spannerStatus=""}))}}}},c975:function(t,a,e){"use strict";var i=e("23e7"),s=e("4d64").indexOf,r=e("a640"),n=e("ae40"),c=[].indexOf,o=!!c&&1/[1].indexOf(1,-0)<0,u=r("indexOf"),d=n("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:o||!u||!d},{indexOf:function(t){return o?c.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})},d04e:function(t,a,e){"use strict";var i=e("1971"),s=e.n(i);s.a},d81d:function(t,a,e){"use strict";var i=e("23e7"),s=e("b727").map,r=e("1dde"),n=e("ae40"),c=r("map"),o=n("map");i({target:"Array",proto:!0,forced:!c||!o},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-20e99778.38bef3d9.js.map